# Study Together - 情侣学习伴侣应用

一个专为情侣设计的学习管理和互动平台，让两个人一起制定学习计划、追踪进度、相互鼓励，共同成长。集成了留言墙、AI助手、天气信息等丰富功能，打造温馨的学习伴侣体验。

## 🚀 项目概述

Study Together 是一个现代化的 Web 应用，旨在帮助情侣们建立共同的学习目标，通过游戏化的方式增进感情的同时提升学习效率。

## 🛠️ 技术栈

### 前端框架
- **Next.js 15** - React 全栈框架，提供服务端渲染和静态生成
- **React 19** - 用户界面构建库
- **TypeScript** - 类型安全的 JavaScript 超集
- **Tailwind CSS** - 实用优先的 CSS 框架

### UI 组件库
- **shadcn/ui** - 基于 Radix UI 的现代组件库
- **Lucide React** - 美观的图标库
- **Sonner** - 优雅的通知提示组件
- **React Markdown** - Markdown 内容渲染
- **Remark GFM** - GitHub 风格 Markdown 支持

### 状态管理
- **Zustand** - 轻量级状态管理库
- **本地存储** - 用户数据持久化

### 数据库
- **Prisma** - 现代化的数据库 ORM
- **SQLite** - 轻量级关系型数据库（开发阶段）

### 开发工具
- **ESLint** - 代码质量检查
- **PostCSS** - CSS 后处理器

## 📋 主要功能

### 🔐 用户认证系统
- 用户注册与登录（支持邮箱/用户名登录）
- 密码修改功能（需验证当前密码）
- 忘记密码处理（联系管理员）
- 情侣账户绑定
- 管理员权限管理
- 智能路由守卫（自动区分公开页面和需认证页面）
- 认证状态持久化（支持页面刷新后状态保持）
- Token有效性验证（防止过期token导致的异常跳转）

### 👥 情侣互动
- 情侣配对功能（支持邀请码和邀请链接）
- 自动情侣绑定系统
- 共同学习目标设定
- 学习进度同步
- 前端状态实时同步

### 📚 学习管理
- 个人学习计划制定
- 学习进度追踪
- 学习统计分析

### 💬 留言墙功能
- 情侣专属留言墙
- 支持文字、图片、表情等多种消息类型
- 惊喜特效（爱心雨、彩带、烟花、闪光）
- 消息反应和互动
- 实时消息通知
- 美观的渐变UI设计

### 🤖 AI助手
- 智能对话助手
- 学习建议和指导
- 情侣关系咨询
- Markdown 格式支持
- 美观的聊天界面

### 🌤️ 天气信息
- 实时天气显示
- 温度和天气状况
- 集成在导航栏中
- 自动定位获取天气

### 🎮 游戏化元素
- 学习积分系统
- 成就徽章
- 排行榜功能

### 🛡️ 管理后台
- 用户管理
- 数据统计
- 系统配置

### 🔧 调试工具
- 前端状态检查页面（/debug）
- API 响应监控
- 浏览器存储检查
- 实时状态刷新功能
- 认证流程调试
- 路由跳转状态监控

## 🚧 开发进度

### ✅ 已完成
- [x] 项目基础架构搭建
- [x] 用户认证系统（注册/登录/退出）
- [x] 用户个人资料管理（包含个人简介字段）
- [x] 安全与密码管理功能
- [x] 基础 UI 组件库集成
- [x] 响应式布局设计
- [x] 管理员后台基础框架
- [x] 本地数据存储方案
- [x] 用户名/邮箱双重登录支持
- [x] 退出登录消息提示功能
- [x] 情侣配对功能（邀请码生成和使用）
- [x] 邀请链接注册自动绑定
- [x] 前端状态同步机制
- [x] 调试工具页面（/debug）
- [x] 认证状态管理优化（防止过期token导致的跳转问题）
- [x] 路由守卫完善（支持公开路由访问）
- [x] Landing页面导航优化
- [x] 用户体验流程优化（登录/注册跳转逻辑）
- [x] 情侣留言墙功能（支持多媒体消息和特效）
- [x] AI智能助手集成
- [x] 天气信息显示组件
- [x] 固定导航栏和优化布局
- [x] 美观的渐变UI设计
- [x] 消息通知系统

### 🔄 开发中
- [ ] 学习计划管理模块
- [ ] 学习进度追踪系统
- [ ] 课程表功能
- [ ] 资料库管理
- [ ] 学习任务系统

### 📅 计划中
- [ ] 学习数据可视化
- [ ] 移动端适配优化
- [ ] 社交分享功能
- [ ] 学习提醒功能
- [ ] 数据导出功能
- [ ] 更多AI助手功能
- [ ] 天气预报扩展
- [ ] 留言墙增强功能

## 🏃‍♂️ 快速开始

### 环境要求
- Node.js 18+
- npm 或 yarn
- 数据库（支持 SQLite/PostgreSQL/MySQL，默认使用 SQLite）

### 安装依赖
```bash
npm install
```

### 数据库设置
```bash
# 生成 Prisma 客户端
npx prisma generate

# 初始化数据库
npx prisma db push
```

### 启动开发服务器
```bash
npm run dev
```

访问 [http://localhost:3000](http://localhost:3000) 查看应用。

### 页面导航
- **首页** - `/` - 根据登录状态自动跳转到相应页面
- **Landing页面** - `/landing` - 应用介绍和注册入口
- **登录页面** - `/login` - 用户登录
- **注册页面** - `/register` - 新用户注册
- **仪表盘** - `/dashboard` - 主要功能入口（需登录）
- **学习任务** - `/tasks` - 任务管理（需登录）
- **课程表** - `/schedule` - 课程安排（需登录）
- **资料库** - `/files` - 学习资料管理（需登录）
- **留言墙** - `/messages` - 情侣留言互动（需登录）
- **AI助手** - `/ai` - 智能对话助手（需登录）
- **情侣页面** - `/couple` - 情侣配对和设置（需登录）
- **个人资料** - `/profile` - 用户信息管理（需登录）
- **关于页面** - `/about` - 应用介绍

### 调试工具
访问 [http://localhost:3000/debug](http://localhost:3000/debug) 查看调试页面，可以检查：
- 前端认证状态
- API 响应状态
- 浏览器存储信息
- 实时状态刷新

### 构建生产版本
```bash
npm run build
```

## 📁 项目结构

```
src/
├── app/                 # Next.js App Router 页面
│   ├── api/            # API 路由
│   │   ├── auth/       # 认证相关 API（注册/登录/用户信息）
│   │   ├── couples/    # 情侣相关 API（邀请码生成/配对）
│   │   ├── messages/   # 留言墙 API
│   │   ├── ai/         # AI助手 API
│   │   └── weather/    # 天气信息 API
│   ├── login/          # 登录页面
│   ├── register/       # 注册页面（支持邀请码参数）
│   ├── dashboard/      # 仪表盘页面
│   ├── tasks/          # 学习任务页面
│   ├── schedule/       # 课程表页面
│   ├── files/          # 资料库页面
│   ├── messages/       # 留言墙页面
│   ├── ai/             # AI助手页面
│   ├── profile/        # 用户资料页面（含个人简介和密码管理）
│   ├── couple/         # 情侣配对页面
│   ├── debug/          # 调试工具页面
│   └── admin/          # 管理后台
├── components/         # React 组件
│   ├── ui/            # 基础 UI 组件（含表情雨等特效）
│   ├── auth/          # 认证相关组件
│   ├── dashboard/     # 仪表板组件
│   ├── layout/        # 布局组件（含导航栏和天气组件）
│   ├── notifications/ # 通知系统组件
│   ├── study/         # 学习相关组件
│   └── admin/         # 管理后台组件
├── lib/               # 工具库和配置
│   ├── auth-store.ts  # 认证状态管理（含情侣状态同步）
│   ├── ai-store.ts    # AI助手状态管理
│   ├── ai-config.ts   # AI配置
│   ├── storage.ts     # 本地存储工具
│   ├── theme.ts       # 主题配置
│   └── utils.ts       # 通用工具函数
├── prisma/            # 数据库相关
│   └── schema.prisma  # 数据库模型定义
├── tests/             # 测试文件
└── types/             # TypeScript 类型定义
```

## 🎯 设计理念

- **用户体验优先** - 简洁直观的界面设计
- **情侣互动** - 专注于双人学习体验
- **游戏化学习** - 通过趣味元素提升学习动力
- **数据驱动** - 基于学习数据提供个性化建议
- **隐私保护** - 严格保护用户个人信息

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来帮助改进项目！

## 📄 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

---

💝 **让学习成为两个人的浪漫旅程** 💝
